<%- include('partials/header') %>
<%- include('partials/nav') %>

<div class="container mb-5">

  <% if (success && success.length) { %>
    <div class="alert alert-success"><%= success %></div>
  <% } %>

  <% if (error && error.length) { %>
    <div class="alert alert-danger"><%= error %></div>
  <% } %>

  <h1 class="mb-3">Adatbázis menü</h1>
  <p class="mb-4">
    Az alábbi oldalon a <strong>laptop</strong> adatbázis három táblájának adatai jelennek meg:
    <strong>processzor</strong>, <strong>oprendszer</strong> és <strong>gép</strong>.
    A géptáblát a hozzá tartozó processzor- és operációs rendszer adataival együtt listázzuk.
  </p>


  <div class="row mb-4">
    <div class="col-lg-4 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-header bg-primary text-white">
          Processzorok
        </div>
        <div class="card-body p-2">
          <div class="table-responsive" style="max-height: 260px;">
            <table class="table table-sm table-striped mb-0">
              <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Gyártó</th>
                  <th scope="col">Típus</th>
                </tr>
              </thead>
              <tbody>
                <% cpus.forEach(cpu => { %>
                  <tr>
                    <td><%= cpu.id %></td>
                    <td><%= cpu.gyarto %></td>
                    <td><%= cpu.tipus %></td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-header bg-success text-white">
          Operációs rendszerek
        </div>
        <div class="card-body p-2">
          <div class="table-responsive" style="max-height: 260px;">
            <table class="table table-sm table-striped mb-0">
              <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Név</th>
                </tr>
              </thead>
              <tbody>
                <% oses.forEach(os => { %>
                  <tr>
                    <td><%= os.id %></td>
                    <td><%= os.nev %></td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-header bg-dark text-white">
          Notebook összesítő
        </div>
        <div class="card-body">
          <p class="mb-2">
            A <strong>gép</strong> tábla az egyes notebookok adatait tárolja:
          </p>
          <ul>
            <li>gyártó, típus</li>
            <li>kijelzőméret, memória, háttértár</li>
            <li>videovezérlő</li>
            <li>ár, készlet (db)</li>
            <li>kapcsolat a processzor- és oprendszer-táblához</li>
          </ul>
          <p class="mb-0">
            Az alábbi táblázatban a gépek a hozzájuk tartozó processzor
            és operációs rendszer nevével együtt jelennek meg.
          </p>
        </div>
      </div>
    </div>
  </div>

  <h2 class="mb-3">Notebookok a rendszerben</h2>
  <p class="mb-3">
    Az alábbi táblázat a <strong>gép</strong> tábla adatait mutatja a kapcsolt
    <strong>processzor</strong> és <strong>oprendszer</strong> információkkal együtt.
    (Maximum 50 sor jelenik meg egyszerre.)
  </p>

  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Gyártó</th>
          <th scope="col">Típus</th>
          <th scope="col">Kijelző</th>
          <th scope="col">Memória (MB)</th>
          <th scope="col">Háttértár (GB)</th>
          <th scope="col">Videovezérlő</th>
          <th scope="col">Processzor</th>
          <th scope="col">Operációs rendszer</th>
          <th scope="col">Ár (Ft)</th>
          <th scope="col">Készlet (db)</th>
        </tr>
      </thead>
      <tbody>
        <% laptops.forEach(gep => { %>
          <tr>
            <td><%= gep.id %></td>
            <td><%= gep.gyarto %></td>
            <td><%= gep.tipus %></td>
            <td><%= gep.kijelzo %></td>
            <td><%= gep.memoria %></td>
            <td><%= gep.merevlemez %></td>
            <td><%= gep.videovezerlo %></td>
            <td><%= gep.cpu_gyarto %> <%= gep.cpu_tipus %></td>
            <td><%= gep.oprendszer %></td>
            <td><%= gep.ar.toLocaleString('hu-HU') %></td>
            <td><%= gep.db %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>

</div>

<%- include('partials/footer') %>
